:root{
  --bg-1:#6653f0; --bg-2:#9b4de0;
  --glass:#ffffffee; --text:#111827; --muted:#6b7280;
  --p1:#ff6b6b; --p2:#feca57; --p3:#48dbfb; --p4:#ff9ff3; --p5:#54a0ff;
  --accent:#22c55e; --card-w:min(92vw, 860px);
}

@media (prefers-color-scheme: dark){
  :root{ --glass:#ffffff1a; --text:#f3f4f6; --muted:#cbd5e1; }
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  color:var(--text); overflow-x:hidden;
  background:
    radial-gradient(1200px 600px at 15% -10%, #ffffff22, transparent),
    linear-gradient(135deg, var(--bg-1), var(--bg-2));
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Ambient blobs */
.blob{ position:fixed; filter:blur(80px); opacity:.5; z-index:0; mix-blend-mode:screen; }
.blob.b1{ width:42vmax; height:42vmax; background:var(--p3); left:-10vmax; top:-10vmax; animation:blob 15s ease-in-out infinite; }
.blob.b2{ width:36vmax; height:36vmax; background:var(--p4); right:-12vmax; top:-6vmax; animation:blob 18s ease-in-out -3s infinite; }
.blob.b3{ width:30vmax; height:30vmax; background:var(--p2); left:20vw; bottom:-10vmax; animation:blob 20s ease-in-out -6s infinite; }
@keyframes blob{ 0%,100%{ transform:translate(0,0) scale(1) } 50%{ transform:translate(2vmax,-1vmax) scale(1.1) } }

.wrap{ position:relative; min-height:100dvh; display:grid; place-items:center; padding:24px; z-index:1; }

.card{
  width:var(--card-w);
  background:var(--glass); backdrop-filter: blur(16px) saturate(125%);
  border-radius:24px; padding:28px 28px 20px;
  box-shadow: 0 20px 60px #00000033, inset 0 1px 0 #ffffff33;
  border:1px solid #ffffff55; position:relative; overflow:hidden;
  animation:float 5s ease-in-out infinite;
}
@media (prefers-reduced-motion: reduce){ .card{ animation:none } }
@keyframes float{ 0%,100%{ transform:translateY(0) }50%{ transform:translateY(-8px) } }

/* Center the intro block & photo */
.intro{
  display:flex;
  flex-direction:column;
  align-items:center;     /* centers horizontally */
  text-align:center;      /* centers heading text */
}

/* Polaroid image */
.polaroid{
  display:inline-block; text-align:center; margin:10px auto 8px;
  background:#fff; border-radius:14px; padding:10px 10px 14px;
  box-shadow:0 16px 40px #0003, inset 0 1px 0 #fff8;
  transform:rotate(-1.2deg); transition: transform .3s ease;
}
.polaroid:hover{ transform:rotate(0deg) translateY(-2px); }

/* Bigger centered hero image (square) */
.hero-img{
  width:min(80vw, 360px);       /* centered size */
  aspect-ratio:1/1;             /* keeps it square */
  height:auto;
  border-radius:12px; display:block; margin:0 auto;
  box-shadow:0 10px 28px #0003; object-fit:cover;
}

.heading{
  font-size: clamp(2rem, 5.5vw, 3.6rem); line-height:1.05; margin:8px 0 10px; font-weight:900;
  background: conic-gradient(from 0.25turn, var(--p1), var(--p2), var(--p3), var(--p4), var(--p1));
  background-size:200% 200%; -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  animation:shine 6s ease-in-out infinite; text-align:center;
}
@keyframes shine{ 0%,100%{ background-position:0% 50% } 50%{ background-position:100% 50% } }

.controls{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; align-items:center; margin:12px 0 14px; }

.btn{
  appearance:none; border:none; border-radius:999px; padding:12px 18px; font-weight:800; cursor:pointer; user-select:none;
  background: linear-gradient(45deg, var(--p1), var(--p2)); color:#fff; box-shadow: 0 10px 24px #0002;
  transition: transform .15s ease, box-shadow .2s ease;
}
.btn:hover{ transform:translateY(-2px); box-shadow: 0 16px 36px #0003; }
.btn:active{ transform:translateY(0) scale(.98) }

/* Divider */
.divider{ height:1px; background:linear-gradient(90deg, transparent, #ffffff66, transparent); margin:16px 0 }

/* Message reveal */
.msg{ margin:12px auto 16px; font-size:clamp(1.05rem,2.2vw,1.18rem); line-height:1.65; text-align:left; max-width:66ch }
.reveal-block{ opacity:0; transform: translateY(10px); animation:reveal .8s ease forwards; }
@keyframes reveal{ to{ opacity:1; transform:none } }

/* Fireworks canvas */
canvas.fireworks{ position:fixed; inset:0; width:100%; height:100%; pointer-events:none; z-index:3 }

/* Balloons */
.balloon{
  position:fixed; bottom:-15vh;
  font-size: clamp(1.8rem, 4vw, 2.2rem);
  filter:drop-shadow(0 6px 10px #0004); z-index:2;
  animation:rise linear forwards;
}
@keyframes rise{ to{ transform:translateY(-120vh) rotate(10deg); opacity:.85 } }

/* Sparkles */
.sparkles{ position:fixed; inset:0; pointer-events:none; z-index:2; }
.sparkle{
  position:absolute; font-size:clamp(10px, 1.6vw, 16px); opacity:.75;
  animation:twinkle 2.4s ease-in-out infinite;
}
@keyframes twinkle{ 0%,100%{ opacity:.15; transform:scale(1)} 50%{ opacity:1; transform:scale(1.25)} }

/* Mute button */
.mute{
  position:fixed; top:14px; right:14px; z-index:5;
  background:#0009; color:#fff; border:none; border-radius:999px;
  padding:10px 12px; cursor:pointer; font-size:18px;
  backdrop-filter: blur(8px);
}
.mute[aria-pressed="true"]{ background:#000c }

/* Hidden helper */
.hidden{ display:none }

/* Screen reader only */
.sr-only{
  position:absolute!important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap;
}
